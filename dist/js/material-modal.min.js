/*!
 * Material Modal v0.1.2
 * Copyright 2016 Mark Rabey <mark@markrabey.com> (markrabey.com)
 * Licensed under the MIT license
 */


var MaterialModal=function(a){"use strict";a||(a=document),console.log(a);var b={qsa:function(b){return a.querySelectorAll(b)}},c=b.qsa(".modal__trigger"),d=b.qsa(".modal"),e=b.qsa(".modal__bg"),f=b.qsa(".modal__content"),g=b.qsa(".modal__close"),h=window,i=!1,j=400,k=function(a){a.preventDefault();var b=this,c=b.dataset.modal,d=c.length,e=c.substring(1,d),f=document.getElementById(e);l(b,f)},l=function(a,b){var c=document.getElementById("modal__temp");if(null===c){var d=document.createElement("div");d.id="modal__temp",a.appendChild(d),d.style.backgroundColor=window.getComputedStyle(a).backgroundColor,m(a,b,d)}},m=function(a,b,c){var d,e,f,g,i=a.getBoundingClientRect(),k=b,l=k.querySelector(".modal__content").getBoundingClientRect(),m=h.innerWidth/2,o=h.innerHeight/2;a.classList.add("modal__trigger--active"),f=l.width/i.width,g=l.height/i.height,f=f.toFixed(3),g=g.toFixed(3),d=Math.round(m-i.left-i.width/2),e=Math.round(o-i.top-i.height/2),k.classList.contains("modal--align-top")&&(e=Math.round(l.height/2+l.top-i.top-i.height/2)),a.style.transform="translate("+d+"px, "+e+"px)",a.style.webkitTransform="translate("+d+"px, "+e+"px)",c.style.backgroundColor="#fff",c.style.transform="scale("+f+","+g+")",c.style.webkitTransform="scale("+f+","+g+")",window.setTimeout(function(){window.requestAnimationFrame(function(){n(k,c)})},j)},n=function(a,b){function c(){b.style.opacity="0",d.removeEventListener("transitionend",c,!1)}if(!i){var d=a.querySelector(".modal__content");a.classList.add("modal--active"),d.classList.add("modal__content--active"),d.addEventListener("transitionend",c,!1),i=!0}},o=function(a){function b(){setTimeout(function(){window.requestAnimationFrame(function(){h.remove()})},j-50)}var e,g=a.target,h=document.getElementById("modal__temp");if(console.log(g),i&&g.classList.contains("modal__bg")||g.classList.contains("modal__close")){for(a.preventDefault(),a.stopImmediatePropagation(),h.style.opacity="1",h.removeAttribute("style"),e=0;e<c.length;e++)c[e].style.transform="none",c[e].style.webkitTransform="none",c[e].classList.remove("modal__trigger--active");for(e=0;e<d.length;e++)d[e].classList.remove("modal--active"),f[e].classList.remove("modal__content--active");h.addEventListener("transitionend",b,!1),i=!1}},p=function(){var a;for(a=0;a<c.length;a++)c[a].addEventListener("click",k,!1);for(a=0;a<g.length;a++)g[a].addEventListener("click",o,!1);for(a=0;a<e.length;a++)e[a].addEventListener("click",o,!1)};p()};Modal=new MaterialModal;