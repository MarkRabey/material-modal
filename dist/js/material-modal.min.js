/*!
 * Material Modal v0.1.2
 * Copyright 2016 Mark Rabey <mark@markrabey.com> (markrabey.com)
 * Licensed under the MIT license
 */


var MaterialModal=function(a){"use strict";a||(a=document);for(var b={qsa:function(a,b){return b.querySelectorAll(a)}},c=b.qsa(".modal",a),d=b.qsa(".modal__bg",a),e=b.qsa(".modal__content",a),f=b.qsa(".modal__close",a),g=[],h=0;h<c.length;h++){var i=b.qsa(".modal__trigger[data-modal='#"+c[h].id+"']",document);console.log(i),i.length>0?g.push(i[0]):console.log("Did not find trigger for modal #"+modal[h].id)}var j=window,k=!1,l=400,m=function(a){a.preventDefault();var b=this,c=b.dataset.modal,d=c.length,e=c.substring(1,d),f=document.getElementById(e);n(b,f)},n=function(a,b){var c=document.getElementById("modal__temp");if(null===c){var d=document.createElement("div");d.id="modal__temp",a.appendChild(d),d.style.backgroundColor=window.getComputedStyle(a).backgroundColor,o(a,b,d)}},o=function(a,b,c){var d,e,f,g,h=a.getBoundingClientRect(),i=b,k=i.querySelector(".modal__content").getBoundingClientRect(),m=j.innerWidth/2,n=j.innerHeight/2;a.classList.add("modal__trigger--active"),f=k.width/h.width,g=k.height/h.height,f=f.toFixed(3),g=g.toFixed(3),d=Math.round(m-h.left-h.width/2),e=Math.round(n-h.top-h.height/2),i.classList.contains("modal--align-top")&&(e=Math.round(k.height/2+k.top-h.top-h.height/2)),a.style.transform="translate("+d+"px, "+e+"px)",a.style.webkitTransform="translate("+d+"px, "+e+"px)",c.style.backgroundColor="#fff",c.style.transform="scale("+f+","+g+")",c.style.webkitTransform="scale("+f+","+g+")",window.setTimeout(function(){window.requestAnimationFrame(function(){p(i,c)})},l)},p=function(a,b){function c(){b.style.opacity="0",d.removeEventListener("transitionend",c,!1)}if(!k){var d=a.querySelector(".modal__content");a.classList.add("modal--active"),d.classList.add("modal__content--active"),d.addEventListener("transitionend",c,!1),k=!0}},q=function(a){function b(){setTimeout(function(){window.requestAnimationFrame(function(){h.remove()})},l-50)}var d,f=a.target,h=document.getElementById("modal__temp");if(k&&f.classList.contains("modal__bg")||f.classList.contains("modal__close")){for(a.preventDefault(),a.stopImmediatePropagation(),h.style.opacity="1",h.removeAttribute("style"),d=0;d<g.length;d++)g[d].style.transform="none",g[d].style.webkitTransform="none",g[d].classList.remove("modal__trigger--active");for(d=0;d<c.length;d++)c[d].classList.remove("modal--active"),e[d].classList.remove("modal__content--active");h.addEventListener("transitionend",b,!1),k=!1}},r=function(){var a;for(a=0;a<g.length;a++)g[a].addEventListener("click",m,!1);for(a=0;a<f.length;a++)f[a].addEventListener("click",q,!1);for(a=0;a<d.length;a++)d[a].addEventListener("click",q,!1)};r()};Modal=new MaterialModal;